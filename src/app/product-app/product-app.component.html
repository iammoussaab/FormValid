<h2>Formulaire reactive pour la creation de produits</h2>

<form [formGroup]="productForm" (ngSubmit)="onSubmit()">
  <div class="form-group">
    <label for="name">Nom du produit</label>
    <input type="text" id="name" formControlName="name" class="form-control" />
    <div *ngIf="f['name'].errors && f['name'].touched" class="error-message">
      <span *ngIf="f['name'].errors['required']">Le nom est requis</span>
    </div>
  </div>

  <div class="form-group">
    <label for="category">Catégorie</label>
    <select id="category" formControlName="category" class="form-control">
      <option value="">Sélectionnez une catégorie</option>
      <option value="electronics">Électronique</option>
      <option value="clothing">Vêtements</option>
      <option value="books">Livres</option>
      <option value="home">Maison</option>
      <option value="sports">Sports</option>
    </select>
    <div
      *ngIf="f['category'].errors && f['category'].touched"
      class="error-message"
    >
      <span *ngIf="f['category'].errors['required']"
        >La catégorie est requise</span
      >
    </div>
  </div>

  <div class="form-group">
    <label for="price">Prix</label>
    <input
      type="number"
      id="price"
      formControlName="price"
      class="form-control"
    />
    <div *ngIf="f['price'].errors && f['price'].touched" class="error-message">
      <span *ngIf="f['price'].errors['required']">Le prix est requis</span>
      <span *ngIf="f['price'].errors['min']"
        >Le prix doit être supérieur à 0</span
      >
    </div>
    <div *ngIf="isPremuim" class="premium-badge">Produit Premium</div>
  </div>

  <div class="form-group">
    <label for="quantity">Quantité</label>
    <input
      type="number"
      id="quantity"
      formControlName="quantity"
      class="form-control"
    />
    <div
      *ngIf="f['quantity'].errors && f['quantity'].touched"
      class="error-message"
    >
      <span *ngIf="f['quantity'].errors['min']"
        >La quantité doit être positive</span
      >
    </div>
  </div>

  <div class="form-group">
    <label for="description">Description</label>
    <textarea
      id="description"
      formControlName="description"
      class="form-control"
    ></textarea>
  </div>

  <div class="form-actions">
    <button type="submit">Créer le produit</button>
    <button type="button" (click)="onReset()">Réinitialiser</button>
  </div>
</form>
